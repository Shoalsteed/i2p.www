{% extends "global/layout.html" %}
{%- from "downloads/macros" import package, package_outer with context -%}

{% set release_signer = 'zzz' %}

{% block title %}{{ _('Download') }}{% endblock %}
{% block content_nav %}
<script type="text/javascript" src="/_static/site.js"></script>
<ul>
<li><a href="#windows">Windows</a>
<li><a href="#mac">Mac OS X</a>
<li><a href="#unix">GNU/Linux / BSD / Solaris</a>
<li><a href="#deb">Debian / Ubuntu</a>
<li><a href="#android">Android</a>
<li><a href="#source">{{ _('Source package') }}</a>
<li><a href="#auto">{{ _('Automatic updates') }}</a>
<li><a href="#update-file">{{ _('Manual updates') }}</a>
</ul>
{% endblock %}

{% block content %}
<!--<h3>{{ _('Lab') }}</h3>
{% trans lab='/lab' %}
If you would like to try the latest experimental I2P projects, visit the <a href = "{{ lab }}">I2P Lab</a>
{% endtrans -%}-->
<h3>{{ _('Getting Started') }}</h3>
<h4>{% trans %}Basic Steps{% endtrans %}</h4>
<p>{% trans %}Unless you are using Mac OSX, Android, or a Debian-based linux, the official install
  process will take three steps:{% endtrans %}</p>
<ol>
  <li><strong>{% trans %}Install Java: {% endtrans %}</strong>{% trans java='https://java.com/download/',
openjdk='http://openjdk.java.net/install/',
icedtea='http://icedtea.classpath.org/wiki/Main_Page',
arm8='https://openjdk.java.net/install/',
ibmsdk7='http://www.ibm.com/developerworks/java/jdk/linux/download.html',
detectjre='https://java.com/en/download/installed.jsp?detect=jre&amp;try=1' %} I2P is written in Java and requires
a Java system to be installed to run. In addition to the I2P download, you need to install Java if you do not have it 
already installed. I2P requires Java Runtime Version 7 or higher.
(<a href="{{ java }}">Oracle</a>,
<a href="{{ openjdk }}">OpenJDK</a>, or
<a href="{{ icedtea }}">IcedTea</a>
Java Version 7 or 8 recommended,
except Raspberry Pi: <a href="{{ arm8 }}">OpenJDK 9 for ARM</a>,
PowerPC: <a href="{{ ibmsdk7 }}">IBM Java SE 7 or 8</a>)
<br />
<a href="{{ detectjre }}">Determine your installed Java version here</a>
or type <tt>java -version</tt> at your command prompt.
Currently three platforms do not require Java to be installed before I2P is installed, those platforms are:{% endtrans %}</li>
  <ul>
    <li><strong>{% trans %}Android: {% endtrans %}</strong>{% trans %}Mac OSX packages now include a complete Java
      Virtual Machine as part of the bundle, which is used only for I2P. This eliminates the need to install
      a separate Java Virtual Machine.{% endtrans %}</li>
    <li><strong>{% trans %}Android: {% endtrans %}</strong>{% trans %}Android comes with a Java virtual machine
      as part of the platform, which I2P for Android uses. Therefore it is not necessary to install Java to use
      I2P for Android.{% endtrans %}</li>
    <li><strong>{% trans %}Debian and Ubuntu: {% endtrans %}</strong>{% trans %}On Debian and Ubuntu when using
      a .deb package to install, the system will automatically install and configure a Java environment for you.{% endtrans %}</li>
  </ul>
  <li><strong>{% trans %}Install I2P: {% endtrans %}</strong>{% trans %}Once you have Java installed, you should
run the I2P installer for your platform. This step applies to all systems.{% endtrans %}</li>
  <li><strong>{% trans %}Install/Configure a Browser(Optional): {% endtrans %}</strong>{% trans %}Finally, you'll need to
configure applications to use I2P. Many applications can use I2P, but the first application most people configure is a Web
Browser for browsing I2P sites. Detailed instructions are available on the{% endtrans %}
<a href="{{ site_url() }}about/browser-config">{% trans %}Browser Page{% endtrans %}</a>.</li>
</ol><p>
{% trans -%}
Windows: Java 8 is recommended. Java 9 or higher may not work.
{%- endtrans %}
</p>



<h3>{{ _('Release Notes') }}</h3>
<ul><li>
<a href="{{ site_url() }}blog/category/release">{{ _('Release Notes') }}</a>
</li><li>
<a href="https://raw.githubusercontent.com/i2p/i2p.i2p/master/history.txt">{{ _('Change Log') }}</a>
</li><li>
<a href="https://raw.githubusercontent.com/i2p/i2p.i2p/master/debian/changelog">{{ _('Debian Change Log') }}</a>
</li><li>
<a href="https://raw.githubusercontent.com/i2p/i2p.android.base/master/CHANGELOG">{{ _('Android Change Log') }}</a>
</li></ul>

<h3>{{ _('Pick your I2P Bundle') }}</h3>

<p>
When you download the I2P software bundle, you get everything you need to connect
and start participating in the I2P network and community. It even includes basic
applications for every user, like e-mail, bittorrent, and a basic I2P Site for
you to personalize and share.
</p>

<p>After you've installed, a set up wizard will help you configure a few
important things like how much bandwidth you would like to share while your
router begins to make connections to the network. After the set up wizard is
complete, you will be directed to the console home page where you can access
the rest of the applications or configure, monitor, or troubleshoot your
I2P connections.</p>

<div class="downloadlist">

    <h5>{%- trans %}I2P for Windows{%- endtrans %}</h5>
    {% call package('windows') %}
    <p>{% trans -%}
    After installing Java, download the file and double-click to run it.
    {%- endtrans %}</p>
    <h3>{% trans %}Easy-Install Bundle (Beta){% endtrans %}</h3>
    <div class="file">
      <p>{% trans %}It's now possible to install all I2P components using
      a single package(<strong>No Java Required</strong>). To try out the new installer, click here.
      This bundle can also be used to configure a Firefox Profile. It will not
      interfere with an existing I2P installation if one exists.
      {% endtrans %}</p>
      <a class="default" href="/nsis">{% trans %}I2P Easy Install Bundle (Beta){% endtrans %}</a>
    </div>
    <h3>{% trans %}Detailed Install Guide{% endtrans %}</h3>
    <div class="file">
      <p></p>
      <a class="default" href="{{ get_url('downloads_windows') }}">{% trans %}Here is a helpful guide to installing I2P for Windows using a separate Java installation and the classic installer.{% endtrans %}</a>
    </div>
{% endcall %}

    <h5>{%- trans %}I2P for Mac OSX{%- endtrans %}</h5>
{% call package_outer('mac', "Mac OSX", 'images/download/mac-osx.png') %}
    <h3>{% trans %}Download the I2P for Mac DMG Bundle{% endtrans %}</h3>
    <p>{% trans i2pversion=ver() -%}I2P for Mac OSX is packaged using OSX's standard ".dmg" package type, which
    allows it to use Apple's built-in tools to securely, reliably, and easily
    install the package. It does not require Java to be installed to use.{%- endtrans %}</p>
    <div class="file">
        <a class="default" href="{{ get_url('downloads_mac') }}">{% trans %}Mac OS DMG I2P Bundle{% endtrans %}</a>
    </div>
{% endcall %}

    <h5>{%- trans %}I2P for Linux{%- endtrans %}</h5>
{% call package('unix') %}
    <p>{% trans i2pversion=ver() -%}
    The most reliable way to launch the installer is from a terminal like this:
    <code>java -jar i2pinstall_{{ i2pversion }}.jar</code>. This will launch the GUI installer.
    Depending on how your computer is set up, you may be able to start the
    installer by double-clicking the &quot;i2pinstall_{{ i2pversion }}.jar&quot; file or
    right-clicking the file and selecting &quot;Open with Java&quot;.
    Unfortunately, this behaviour is difficult to predict.
    {%- endtrans %}</p>

    <h3>{% trans %}Command line (headless) install:{% endtrans %}</h3>
    {% trans i2pversion=ver() -%}
    I2P can also be installed in a terminal environment, which may be especially
    useful for servers, containers, or certain virtual machines. If you wish to
    use the installer without a GUI, you can use the command 
    <code>java -jar i2pinstall_{{ i2pversion }}.jar -console</code> to follow
    the install procedure in your terminal.
    {%- endtrans %}
{% endcall %}

    <h5>{%- trans %}I2P for Debian and Ubuntu{%- endtrans %}</h5>
{% call package_outer('deb', 'Debian / Ubuntu', 'images/download/debian-ubuntu.png') %}
    <div class="file">
      <a class="default" href="{{ get_url('downloads_debian') }}">{% trans %}Packages for Debian &amp; Ubuntu are available.{% endtrans %}</a>
    </div>
    <p>{% trans -%}
    I2P is available in the official repositories for Ubuntu Bionic and later, and Debian Buster and Sid.
    However, Debian Buster and Ubuntu Bionic (LTS) distributions will have older I2P versions.
    If you are not running Debian Sid or the latest Ubuntu release,
    use our Debian repo or Launchpad PPA to ensure you're running the latest I2P version.
    {%- endtrans %}</p>
{% endcall %}

    <h5>{%- trans %}I2P for Android{%- endtrans %}</h5>
{% call package('android') %}
    <div class="warning">
      {% trans -%}
      Requires Android 4.0 (Ice Cream Sandwich) or higher. If you earlier installed
      I2P, unfortunately this release fixes some IPC issues which will force you to uninstall your current installation before installing this.
      {%- endtrans %}
      {% trans -%}
      512 MB RAM minimum; 1 GB recommended.
      {%- endtrans %}
      {% trans -%}
      The releases are not compatible with eachother, as they have different signatures. Uninstall them
      completely before installing any other version. The apk's from download.i2p2.de are signed by idk.
      {%- endtrans %}
    </div>
{% endcall %}

    <h5>{%- trans %}I2P for Docker{%- endtrans %}</h5>
{% call package_outer('docker', 'Docker', 'images/download/docker.png') %}
    <div class="meta">
        <!--
        TODO: next time we do a release and set a git tag, change this to match the
        sha256 hash of the docker container.
        <div class="hash">
        <code>1de04ec13945a0505e5b23e2bd22ad9cfaac0da3372c972160b58322b1ca48eb</code>
        </div>-->
    </div>
    <p>{% trans -%}I2P is now available as a Docker package from the Docker Hub.
    You may retrieve the image by running the 'docker pull' command.
      {%- endtrans %}
    </p>
    <pre><code>{% trans-%}
    docker pull geti2p/i2p
      {%- endtrans %}
    </pre></code>
    <a href="https://hub.docker.com/r/geti2p/i2p/">Docker Hub</a>
    <div class="file">
      <a class="default" href="{{ get_url('downloads_docker') }}">{% trans %}Additional instructions for configuring your container can be found here.{% endtrans %}</a>
    </div>
{% endcall %}

{% call package('source') %}
    <p>{% trans monotoneurl=site_url('get-involved/guides/new-developers'),
             gitrepo='http://'+i2pconv('git.repo.i2p')+'/w/i2p.i2p.git',
             github='https://github.com/i2p/i2p.i2p',
             android='https://github.com/i2p/i2p.android.base',
             i2pversion=ver() -%}
    Alternately, you can fetch the source via <a href="{{ monotoneurl }}#getting-the-i2p-code">Git</a>
    from <a href="{{ gitrepo }}">git.repo.i2p</a> or <a href="{{ github }}">Github</a>.
    <br />
    Run <code>(tar xjvf i2psource_{{ i2pversion }}.tar.bz2 ; cd i2p-{{ i2pversion }} ; ant pkg)</code> then either
    run the GUI installer or headless install as above.
    {%- endtrans %}</p>
    <p>{% trans monotoneurl=site_url('get-involved/guides/new-developers'),
             github='https://github.com/i2p/i2p.android.base' -%}
    Android source is also in <a href="{{ monotoneurl }}#getting-the-i2p-code">git</a>
    on <a href="{{ android }}">Github</a>.
    Android builds require the I2P source.
    See the documentation in the Android source for additional build requirements and instructions.
    {%- endtrans %}</p>
{% endcall %}

</div>

{% trans signer=release_signer,
signingkey=site_url('get-involved/develop/release-signing-key') -%}
The files are signed by {{ signer }},
<a href="{{ signingkey }}">whose key is here</a>.
{%- endtrans %}

{% trans signer='zlatinb',
signingkey=url_for('static', filename='zlatinb.key.crt') -%}
The Windows installer is signed by {{ signer }},
<a href="{{ signingkey }}">whose key is here</a>.
{%- endtrans %}

{% trans signer='mikalv (meeh)',
signingkey=url_for('static', filename='mikalv.key.crt') -%}
The Mac OS X native installer is signed by {{ signer }} with his Apple Developer ID certificate,
<a href="{{ signingkey }}">whose key is here</a>.
{%- endtrans %}

<h3 id="update">{{ _('Updates from earlier releases:') }}</h3>

<p>{% trans -%}
Both automatic and manual upgrades are available for the release.
{%- endtrans %}</p>

{% call package_outer('auto', _('Automatic updates'), 'images/download/update-auto.png') %}
<p>{% trans -%}
If you are running 0.7.5 or later, your router should detect the
new release. To upgrade simply click the 'Download Update' button on your router console
when it appears.
{%- endtrans %}</p>
    <div class="warning">
<p>{% trans -%}
Since 0.9.23, some releases are signed by str4d, whose signing key has been in the router
since 0.9.9. Routers older than 0.9.9 will fail to verify update files signed by str4d,
and will need to be manually updated using the process below.
{%- endtrans %}</p>
    </div>
{% endcall %}

{% call package('update-file') %}
<ol>
<li>
    {% trans -%}
    Download the file to your I2P
    installation directory and <b>rename as i2pupdate.zip</b>.
    (alternately, you can get the source as above and run "ant updater", then copy the
    resulting i2pupdate.zip to your I2P installation directory).  You do
    NOT need to unzip the file.
    {%- endtrans %}
</li>
<li>
    {% trans -%}
    Click <a href="http://localhost:7657/configservice.jsp">"Restart"</a>
    {%- endtrans %}
</li>
<li>
    {% trans -%}
    Grab a cup of coffee and come back in 11 minutes
    {%- endtrans %}
</li>
</ol>
{% endcall %}

{% trans signer=release_signer,
signingkey=site_url('get-involved/develop/release-signing-key') -%}
The file is signed by {{ signer }},
<a href="{{ signingkey }}">whose key is here</a>.
{%- endtrans %}

<h3>{{ _('Previous Releases') }}</h3>

{% trans echelon=i2pconv('echelon.i2p') -%}
Previous releases are available on <a href="http://code.google.com/p/i2p/downloads/list?can=1">Google Code</a>
and <a href="https://launchpad.net/i2p/trunk">Launchpad</a>
and within the I2P network on <a href="http://{{ echelon }}/">{{ echelon }}</a>.
{%- endtrans %}

{% endblock %}
